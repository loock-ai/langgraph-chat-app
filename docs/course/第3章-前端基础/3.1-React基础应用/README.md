# 3.1 ReactåŸºç¡€åº”ç”¨ âš›ï¸

> æŒæ¡Reactåœ¨AIèŠå¤©åº”ç”¨ä¸­çš„å®é™…è¿ç”¨

---

## ğŸ¯ å°èŠ‚æ¦‚è¿°ä¸å­¦ä¹ ç›®æ ‡

æ¬¢è¿æ¥åˆ°ç¬¬ä¸‰ç« çš„ç¬¬ä¸€èŠ‚è¯¾ï¼ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°†çœŸæ­£è¿›å…¥ä»£ç ç¼–å†™é˜¶æ®µï¼Œç”¨Reactåˆ›å»ºç¾è§‚è€Œå¼ºå¤§çš„AIèŠå¤©åº”ç”¨ç•Œé¢ã€‚å¦‚æœè¯´å‰é¢ä¸¤ç« æ˜¯åœ¨æ­å»º"èˆå°"ï¼Œé‚£ä¹ˆä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°±è¦åœ¨è¿™ä¸ªèˆå°ä¸Š"è¡¨æ¼”"äº†ï¼

### å°èŠ‚æ ¸å¿ƒä»·å€¼å’Œé‡è¦æ€§

Reactæ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬AIèŠå¤©åº”ç”¨çš„ç•Œé¢åŸºç¡€ã€‚é€šè¿‡è¿™ä¸€èŠ‚çš„å­¦ä¹ ï¼Œä½ ä¸ä»…ä¼šæŒæ¡Reactçš„åŸºç¡€çŸ¥è¯†ï¼Œæ›´é‡è¦çš„æ˜¯è¦å­¦ä¼šå¦‚ä½•å°†Reactåº”ç”¨åˆ°å®é™…çš„AIé¡¹ç›®ä¸­ã€‚

è¿™ä¸€å°èŠ‚çš„ä»·å€¼åœ¨äºï¼š
- **å»ºç«‹ç»„ä»¶åŒ–æ€ç»´**ï¼šå­¦ä¼šå°†å¤æ‚ç•Œé¢æ‹†åˆ†ä¸ºå¯é‡ç”¨çš„å°ç»„ä»¶
- **æŒæ¡çŠ¶æ€ç®¡ç†**ï¼šç†è§£å¦‚ä½•ç®¡ç†èŠå¤©æ¶ˆæ¯ã€ç”¨æˆ·è¾“å…¥ç­‰åº”ç”¨çŠ¶æ€
- **å®ç°ç”¨æˆ·äº¤äº’**ï¼šå¤„ç†ç”¨æˆ·çš„ç‚¹å‡»ã€è¾“å…¥ã€æäº¤ç­‰å„ç§æ“ä½œ
- **æ„å»ºç•Œé¢åŸºç¡€**ï¼šä¸ºåç»­çš„æ ·å¼ç¾åŒ–å’ŒåŠŸèƒ½æ‰©å±•å¥ å®šåšå®åŸºç¡€

### ä¸å‰åå°èŠ‚çš„è¿æ¥å…³ç³»

**æ‰¿æ¥ç¬¬äºŒç« çš„ç¯å¢ƒåŸºç¡€**ï¼š
- ä½¿ç”¨ç¬¬2ç« é…ç½®å¥½çš„å¼€å‘å·¥å…·å’Œé¡¹ç›®ç»“æ„
- åŸºäºå·²å»ºç«‹çš„TypeScripté…ç½®è¿›è¡Œå¼€å‘
- åœ¨å·²æ­å»ºçš„ç›®å½•æ¶æ„ä¸­åˆ›å»ºReactç»„ä»¶

**ä¸ºåç»­å°èŠ‚åšå‡†å¤‡**ï¼š
- 3.2èŠ‚çš„Next.jsåº”ç”¨éœ€è¦æˆ‘ä»¬åˆ›å»ºçš„Reactç»„ä»¶
- 3.3èŠ‚çš„TypeScriptåº”ç”¨éœ€è¦ä¸ºè¿™äº›ç»„ä»¶æ·»åŠ ç±»å‹å®šä¹‰
- 3.4èŠ‚çš„Tailwind CSSåº”ç”¨éœ€è¦ä¸ºè¿™äº›ç»„ä»¶æ·»åŠ æ ·å¼

**å­¦ä¹ é€’è¿›å…³ç³»**ï¼š
```
3.1èŠ‚ï¼šç»„ä»¶åŠŸèƒ½ â†’ è®©ç»„ä»¶"èƒ½ç”¨"
3.2èŠ‚ï¼šæ¡†æ¶é›†æˆ â†’ è®©ç»„ä»¶"å¥½ç”¨"
3.3èŠ‚ï¼šç±»å‹å®‰å…¨ â†’ è®©ç»„ä»¶"å®‰å…¨"
3.4èŠ‚ï¼šç•Œé¢ç¾åŒ– â†’ è®©ç»„ä»¶"å¥½çœ‹"
```

### å…·ä½“çš„å­¦ä¹ ç›®æ ‡

å­¦å®Œè¿™ä¸€å°èŠ‚ï¼Œä½ å°†èƒ½å¤Ÿï¼š

1. **åˆ›å»ºReactå‡½æ•°ç»„ä»¶**ï¼šæŒæ¡ç°ä»£Reactå¼€å‘çš„æ ¸å¿ƒæ¨¡å¼
2. **ä½¿ç”¨React Hooks**ï¼šç†Ÿç»ƒè¿ç”¨useStateã€useEffectç­‰Hook
3. **å®ç°ç»„ä»¶é€šä¿¡**ï¼šé€šè¿‡propså’Œå›è°ƒå®ç°çˆ¶å­ç»„ä»¶äº¤äº’
4. **å¤„ç†ç”¨æˆ·äº‹ä»¶**ï¼šå“åº”ç”¨æˆ·çš„å„ç§æ“ä½œå’Œè¾“å…¥
5. **ç®¡ç†ç»„ä»¶çŠ¶æ€**ï¼šåˆç†ç»„ç»‡å’Œç®¡ç†åº”ç”¨çš„çŠ¶æ€æ•°æ®

### æœ¬å°èŠ‚æ¶‰åŠçš„æ ¸å¿ƒå†…å®¹

æˆ‘ä»¬ä»Šå¤©è¦åˆ›å»ºçš„ç»„ä»¶ï¼š
- ğŸ¯ **åŸºç¡€UIç»„ä»¶**ï¼šButtonã€Inputã€Modalç­‰å¯é‡ç”¨ç»„ä»¶
- ğŸ’¬ **èŠå¤©ç›¸å…³ç»„ä»¶**ï¼šMessageListã€MessageBubbleã€MessageInput
- ğŸ“± **å¸ƒå±€ç»„ä»¶**ï¼šHeaderã€Sidebarã€ChatContainer
- ğŸ”„ **çŠ¶æ€ç®¡ç†**ï¼šèŠå¤©çŠ¶æ€ã€ç”¨æˆ·äº¤äº’çŠ¶æ€çš„ç®¡ç†

---

## ğŸ“š æ ¸å¿ƒå†…å®¹æ·±åº¦è®²è§£

### ç¬¬ä¸€éƒ¨åˆ†ï¼šReactå‡½æ•°ç»„ä»¶åŸºç¡€ âš›ï¸

ç°ä»£Reactå¼€å‘ä¸»è¦ä½¿ç”¨å‡½æ•°ç»„ä»¶ï¼Œå®ƒä»¬ç®€æ´ã€æ˜“æ‡‚ï¼Œè€Œä¸”åŠŸèƒ½å¼ºå¤§ã€‚è®©æˆ‘ä»¬ä»åŸºç¡€å¼€å§‹ã€‚

#### å‡½æ•°ç»„ä»¶çš„åŸºæœ¬ç»“æ„

**æœ€ç®€å•çš„Reactç»„ä»¶**ï¼š

```typescript
// app/components/ui/Button.tsx
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
}

export default function Button({ children, onClick }: ButtonProps) {
  return (
    <button onClick={onClick} className="px-4 py-2 bg-blue-500 text-white rounded">
      {children}
    </button>
  );
}
```

**ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ç»„ä»¶ï¼Ÿ**

1. **å‡½æ•°å¼å£°æ˜**ï¼šä½¿ç”¨functionå…³é”®å­—æ¸…æ™°è¡¨è¾¾ç»„ä»¶æ„å›¾
2. **TypeScriptæ¥å£**ï¼šButtonPropså®šä¹‰äº†ç»„ä»¶çš„"åˆçº¦"
3. **è§£æ„èµ‹å€¼**ï¼šç›´æ¥ä»propsä¸­æå–éœ€è¦çš„å±æ€§
4. **JSXè¿”å›**ï¼šè¿”å›æè¿°UIç»“æ„çš„JSXå…ƒç´ 

#### ç»„ä»¶çš„Propsç³»ç»Ÿ

Propsæ˜¯Reactç»„ä»¶çš„è¾“å…¥æœºåˆ¶ï¼Œå°±åƒå‡½æ•°çš„å‚æ•°ä¸€æ ·ï¼š

```typescript
// app/components/ui/Input.tsx
interface InputProps {
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  disabled?: boolean;
  error?: string;
}

export default function Input({ 
  value, 
  onChange, 
  placeholder = "è¯·è¾“å…¥...", 
  disabled = false,
  error 
}: InputProps) {
  return (
    <div className="flex flex-col">
      <input
        type="text"
        value={value}
        onChange={(e) => onChange(e.target.value)}
        placeholder={placeholder}
        disabled={disabled}
        className={`px-3 py-2 border rounded ${
          error ? 'border-red-500' : 'border-gray-300'
        }`}
      />
      {error && (
        <span className="text-red-500 text-sm mt-1">{error}</span>
      )}
    </div>
  );
}
```

**Propsè®¾è®¡çš„æœ€ä½³å®è·µ**ï¼š
- **å¿…éœ€å±æ€§**ï¼švalueã€onChangeæ˜¯å¿…é¡»çš„
- **å¯é€‰å±æ€§**ï¼šplaceholderã€disabledã€errorç”¨?æ ‡è®°
- **é»˜è®¤å€¼**ï¼šåœ¨è§£æ„æ—¶ç›´æ¥èµ‹äºˆé»˜è®¤å€¼
- **ç±»å‹å®‰å…¨**ï¼šæ‰€æœ‰å±æ€§éƒ½æœ‰æ˜ç¡®çš„ç±»å‹å®šä¹‰

#### ç»„ä»¶çš„ç»„åˆæ¨¡å¼

Reactçš„å¼ºå¤§ä¹‹å¤„åœ¨äºç»„ä»¶çš„ç»„åˆèƒ½åŠ›ï¼š

```typescript
// app/components/ui/Modal.tsx
interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}

export default function Modal({ isOpen, onClose, title, children }: ModalProps) {
  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <div className="bg-white rounded-lg p-6 w-full max-w-md">
        <div className="flex justify-between items-center mb-4">
          <h2 className="text-xl font-semibold">{title}</h2>
          <button 
            onClick={onClose}
            className="text-gray-500 hover:text-gray-700"
          >
            âœ•
          </button>
        </div>
        <div>{children}</div>
      </div>
    </div>
  );
}
```

**ç»„åˆæ¨¡å¼çš„ä¼˜åŠ¿**ï¼š
- **çµæ´»æ€§**ï¼šModalå¯ä»¥åŒ…å«ä»»æ„å†…å®¹
- **é‡ç”¨æ€§**ï¼šä¸€ä¸ªModalç»„ä»¶é€‚ç”¨äºå„ç§åœºæ™¯
- **å¯ç»„åˆæ€§**ï¼šå¯ä»¥åœ¨Modalå†…æ”¾ç½®å…¶ä»–ç»„ä»¶

### ç¬¬äºŒéƒ¨åˆ†ï¼šReact Hooksæ·±åº¦åº”ç”¨ ğŸ£

Hooksæ˜¯Reactçš„ç°ä»£çŠ¶æ€ç®¡ç†å’Œå‰¯ä½œç”¨å¤„ç†æœºåˆ¶ã€‚è®©æˆ‘ä»¬æ·±å…¥å­¦ä¹ æœ€é‡è¦çš„å‡ ä¸ªHookã€‚

#### useStateï¼šçŠ¶æ€ç®¡ç†çš„æ ¸å¿ƒ

```typescript
// app/components/chat/MessageInput.tsx
import { useState } from 'react';

interface MessageInputProps {
  onSendMessage: (message: string) => void;
  disabled?: boolean;
}

export default function MessageInput({ onSendMessage, disabled = false }: MessageInputProps) {
  const [message, setMessage] = useState('');
  const [isComposing, setIsComposing] = useState(false);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (message.trim() && !disabled) {
      onSendMessage(message.trim());
      setMessage(''); // å‘é€åæ¸…ç©ºè¾“å…¥
    }
  };

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey && !isComposing) {
      e.preventDefault();
      handleSubmit(e as any);
    }
  };

  return (
    <form onSubmit={handleSubmit} className="flex gap-2 p-4">
      <input
        type="text"
        value={message}
        onChange={(e) => setMessage(e.target.value)}
        onKeyDown={handleKeyDown}
        onCompositionStart={() => setIsComposing(true)}
        onCompositionEnd={() => setIsComposing(false)}
        placeholder="è¾“å…¥ä½ çš„æ¶ˆæ¯..."
        disabled={disabled}
        className="flex-1 px-3 py-2 border border-gray-300 rounded-md"
      />
      <button
        type="submit"
        disabled={disabled || !message.trim()}
        className="px-4 py-2 bg-blue-500 text-white rounded-md disabled:bg-gray-300"
      >
        å‘é€
      </button>
    </form>
  );
}
```

**useStateçš„ä½¿ç”¨è¦ç‚¹**ï¼š
- **çŠ¶æ€å£°æ˜**ï¼š`const [value, setValue] = useState(initialValue)`
- **çŠ¶æ€æ›´æ–°**ï¼šä½¿ç”¨setValueå‡½æ•°ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹value
- **å¤šä¸ªçŠ¶æ€**ï¼šå¯ä»¥ä½¿ç”¨å¤šä¸ªuseStateç®¡ç†ä¸åŒçš„çŠ¶æ€
- **çŠ¶æ€ç±»å‹**ï¼šTypeScriptä¼šè‡ªåŠ¨æ¨æ–­çŠ¶æ€ç±»å‹

#### useEffectï¼šå‰¯ä½œç”¨å¤„ç†ä¸“å®¶

```typescript
// app/components/chat/MessageList.tsx
import { useState, useEffect, useRef } from 'react';

interface Message {
  id: string;
  content: string;
  role: 'user' | 'assistant';
  timestamp: Date;
}

interface MessageListProps {
  messages: Message[];
  isLoading?: boolean;
}

export default function MessageList({ messages, isLoading = false }: MessageListProps) {
  const [isAutoScroll, setIsAutoScroll] = useState(true);
  const messagesEndRef = useRef<HTMLDivElement>(null);
  const containerRef = useRef<HTMLDivElement>(null);

  // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
  useEffect(() => {
    if (isAutoScroll && messagesEndRef.current) {
      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });
    }
  }, [messages, isAutoScroll]);

  // æ£€æµ‹ç”¨æˆ·æ‰‹åŠ¨æ»šåŠ¨
  useEffect(() => {
    const container = containerRef.current;
    if (!container) return;

    const handleScroll = () => {
      const { scrollTop, scrollHeight, clientHeight } = container;
      const isAtBottom = scrollHeight - scrollTop <= clientHeight + 100;
      setIsAutoScroll(isAtBottom);
    };

    container.addEventListener('scroll', handleScroll);
    return () => container.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <div 
      ref={containerRef}
      className="flex-1 overflow-y-auto p-4 space-y-4"
    >
      {messages.map((message) => (
        <MessageBubble key={message.id} message={message} />
      ))}
      
      {isLoading && (
        <div className="flex justify-center">
          <div className="animate-pulse text-gray-500">AIæ­£åœ¨æ€è€ƒä¸­...</div>
        </div>
      )}
      
      <div ref={messagesEndRef} />
    </div>
  );
}
```

**useEffectçš„é‡è¦æ¦‚å¿µ**ï¼š
- **ä¾èµ–æ•°ç»„**ï¼š`[messages, isAutoScroll]`å†³å®šä½•æ—¶é‡æ–°æ‰§è¡Œeffect
- **æ¸…ç†å‡½æ•°**ï¼šreturnçš„å‡½æ•°ç”¨äºæ¸…ç†å‰¯ä½œç”¨
- **ç©ºä¾èµ–æ•°ç»„**ï¼š`[]`è¡¨ç¤ºåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡
- **æ— ä¾èµ–æ•°ç»„**ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰

#### useRefï¼šç›´æ¥æ“ä½œDOMå…ƒç´ 

```typescript
// app/components/chat/MessageBubble.tsx
import { useRef, useEffect } from 'react';

interface MessageBubbleProps {
  message: {
    id: string;
    content: string;
    role: 'user' | 'assistant';
    timestamp: Date;
  };
}

export default function MessageBubble({ message }: MessageBubbleProps) {
  const bubbleRef = useRef<HTMLDivElement>(null);

  // æ¶ˆæ¯å‡ºç°åŠ¨ç”»
  useEffect(() => {
    if (bubbleRef.current) {
      bubbleRef.current.style.opacity = '0';
      bubbleRef.current.style.transform = 'translateY(20px)';
      
      requestAnimationFrame(() => {
        if (bubbleRef.current) {
          bubbleRef.current.style.transition = 'all 0.3s ease';
          bubbleRef.current.style.opacity = '1';
          bubbleRef.current.style.transform = 'translateY(0)';
        }
      });
    }
  }, []);

  const isUser = message.role === 'user';

  return (
    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'}`}>
      <div
        ref={bubbleRef}
        className={`
          max-w-xs lg:max-w-md px-4 py-2 rounded-lg
          ${isUser 
            ? 'bg-blue-500 text-white' 
            : 'bg-gray-200 text-gray-800'
          }
        `}
      >
        <div className="text-sm">{message.content}</div>
        <div className={`text-xs mt-1 ${isUser ? 'text-blue-100' : 'text-gray-500'}`}>
          {message.timestamp.toLocaleTimeString()}
        </div>
      </div>
    </div>
  );
}
```

**useRefçš„åº”ç”¨åœºæ™¯**ï¼š
- **DOMæ“ä½œ**ï¼šç›´æ¥è®¿é—®å’Œæ“ä½œDOMå…ƒç´ 
- **ä¿å­˜æ•°å€¼**ï¼šå­˜å‚¨ä¸éœ€è¦è§¦å‘é‡æ¸²æŸ“çš„æ•°æ®
- **å®šæ—¶å™¨å¼•ç”¨**ï¼šä¿å­˜setTimeoutã€setIntervalçš„å¼•ç”¨
- **ä¸Šä¸€æ¬¡çš„å€¼**ï¼šä¿å­˜ç»„ä»¶çš„å‰ä¸€ä¸ªçŠ¶æ€

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šç»„ä»¶é€šä¿¡ä¸æ•°æ®æµ ğŸ”„

ç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ˜¯Reactåº”ç”¨çš„æ ¸å¿ƒï¼Œè®©æˆ‘ä»¬å­¦ä¹ å„ç§é€šä¿¡æ¨¡å¼ã€‚

#### çˆ¶å­ç»„ä»¶é€šä¿¡

**é€šè¿‡Propså‘ä¸‹ä¼ é€’æ•°æ®**ï¼š

```typescript
// app/components/chat/ChatContainer.tsx
import { useState } from 'react';
import MessageList from './MessageList';
import MessageInput from './MessageInput';

interface Message {
  id: string;
  content: string;
  role: 'user' | 'assistant';
  timestamp: Date;
}

export default function ChatContainer() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [isLoading, setIsLoading] = useState(false);

  const handleSendMessage = async (content: string) => {
    // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
    const userMessage: Message = {
      id: Date.now().toString(),
      content,
      role: 'user',
      timestamp: new Date(),
    };
    
    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);

    try {
      // æ¨¡æ‹ŸAPIè°ƒç”¨
      const response = await fetch('/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: content }),
      });

      const data = await response.json();
      
      // æ·»åŠ AIå›å¤
      const aiMessage: Message = {
        id: (Date.now() + 1).toString(),
        content: data.response,
        role: 'assistant',
        timestamp: new Date(),
      };
      
      setMessages(prev => [...prev, aiMessage]);
    } catch (error) {
      console.error('Failed to send message:', error);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="flex flex-col h-full">
      <MessageList messages={messages} isLoading={isLoading} />
      <MessageInput onSendMessage={handleSendMessage} disabled={isLoading} />
    </div>
  );
}
```

**æ•°æ®æµåŠ¨æ¨¡å¼**ï¼š
```
ChatContainer (çˆ¶ç»„ä»¶)
â”œâ”€â”€ messagesçŠ¶æ€ â†’ MessageList (å­ç»„ä»¶)
â”œâ”€â”€ isLoadingçŠ¶æ€ â†’ MessageList (å­ç»„ä»¶)
â”œâ”€â”€ handleSendMessageå‡½æ•° â†’ MessageInput (å­ç»„ä»¶)
â””â”€â”€ isLoadingçŠ¶æ€ â†’ MessageInput (å­ç»„ä»¶)
```

#### å…„å¼Ÿç»„ä»¶é€šä¿¡

å½“ä¸¤ä¸ªç»„ä»¶éœ€è¦å…±äº«çŠ¶æ€æ—¶ï¼Œå°†çŠ¶æ€æå‡åˆ°å…±åŒçš„çˆ¶ç»„ä»¶ï¼š

```typescript
// app/components/chat/ChatSidebar.tsx
interface ChatSidebarProps {
  sessions: Array<{
    id: string;
    name: string;
    lastMessage?: string;
    timestamp: Date;
  }>;
  currentSessionId?: string;
  onSessionSelect: (sessionId: string) => void;
  onNewSession: () => void;
}

export default function ChatSidebar({ 
  sessions, 
  currentSessionId, 
  onSessionSelect, 
  onNewSession 
}: ChatSidebarProps) {
  return (
    <div className="w-64 bg-gray-100 border-r border-gray-300">
      <div className="p-4">
        <button
          onClick={onNewSession}
          className="w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
        >
          æ–°å»ºå¯¹è¯
        </button>
      </div>
      
      <div className="overflow-y-auto">
        {sessions.map((session) => (
          <div
            key={session.id}
            onClick={() => onSessionSelect(session.id)}
            className={`
              p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50
              ${currentSessionId === session.id ? 'bg-blue-50 border-blue-200' : ''}
            `}
          >
            <div className="font-medium text-sm">{session.name}</div>
            {session.lastMessage && (
              <div className="text-xs text-gray-500 mt-1 truncate">
                {session.lastMessage}
              </div>
            )}
            <div className="text-xs text-gray-400 mt-1">
              {session.timestamp.toLocaleDateString()}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

#### Contextï¼šè·¨å±‚çº§ç»„ä»¶é€šä¿¡

å¯¹äºéœ€è¦åœ¨å¤šä¸ªå±‚çº§é—´å…±äº«çš„æ•°æ®ï¼Œä½¿ç”¨React Contextï¼š

```typescript
// app/contexts/ChatContext.tsx
import { createContext, useContext, useReducer, ReactNode } from 'react';

interface ChatState {
  currentSessionId?: string;
  sessions: Array<{
    id: string;
    name: string;
    messages: Message[];
    lastMessage?: string;
    timestamp: Date;
  }>;
  isLoading: boolean;
}

type ChatAction = 
  | { type: 'SET_CURRENT_SESSION'; sessionId: string }
  | { type: 'ADD_MESSAGE'; sessionId: string; message: Message }
  | { type: 'CREATE_SESSION'; session: ChatState['sessions'][0] }
  | { type: 'SET_LOADING'; isLoading: boolean };

const initialState: ChatState = {
  sessions: [],
  isLoading: false,
};

function chatReducer(state: ChatState, action: ChatAction): ChatState {
  switch (action.type) {
    case 'SET_CURRENT_SESSION':
      return { ...state, currentSessionId: action.sessionId };
    
    case 'ADD_MESSAGE':
      return {
        ...state,
        sessions: state.sessions.map(session =>
          session.id === action.sessionId
            ? {
                ...session,
                messages: [...session.messages, action.message],
                lastMessage: action.message.content,
                timestamp: action.message.timestamp,
              }
            : session
        ),
      };
    
    case 'CREATE_SESSION':
      return {
        ...state,
        sessions: [action.session, ...state.sessions],
        currentSessionId: action.session.id,
      };
    
    case 'SET_LOADING':
      return { ...state, isLoading: action.isLoading };
    
    default:
      return state;
  }
}

const ChatContext = createContext<{
  state: ChatState;
  dispatch: React.Dispatch<ChatAction>;
} | null>(null);

export function ChatProvider({ children }: { children: ReactNode }) {
  const [state, dispatch] = useReducer(chatReducer, initialState);

  return (
    <ChatContext.Provider value={{ state, dispatch }}>
      {children}
    </ChatContext.Provider>
  );
}

export function useChatContext() {
  const context = useContext(ChatContext);
  if (!context) {
    throw new Error('useChatContext must be used within a ChatProvider');
  }
  return context;
}
```

### ç¬¬å››éƒ¨åˆ†ï¼šäº‹ä»¶å¤„ç†ä¸ç”¨æˆ·äº¤äº’ ğŸ¯

ç”¨æˆ·äº¤äº’æ˜¯å‰ç«¯åº”ç”¨çš„æ ¸å¿ƒï¼Œè®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•ä¼˜é›…åœ°å¤„ç†å„ç§ç”¨æˆ·äº‹ä»¶ã€‚

#### è¡¨å•å¤„ç†ä¸éªŒè¯

```typescript
// app/components/forms/SessionSettingsForm.tsx
import { useState } from 'react';

interface SessionSettings {
  name: string;
  description: string;
  model: string;
  temperature: number;
  maxTokens: number;
}

interface SessionSettingsFormProps {
  initialSettings?: Partial<SessionSettings>;
  onSave: (settings: SessionSettings) => void;
  onCancel: () => void;
}

export default function SessionSettingsForm({ 
  initialSettings, 
  onSave, 
  onCancel 
}: SessionSettingsFormProps) {
  const [settings, setSettings] = useState<SessionSettings>({
    name: initialSettings?.name || 'æ–°å¯¹è¯',
    description: initialSettings?.description || '',
    model: initialSettings?.model || 'gpt-3.5-turbo',
    temperature: initialSettings?.temperature || 0.7,
    maxTokens: initialSettings?.maxTokens || 2000,
  });

  const [errors, setErrors] = useState<Partial<Record<keyof SessionSettings, string>>>({});

  const validateForm = (): boolean => {
    const newErrors: typeof errors = {};

    if (!settings.name.trim()) {
      newErrors.name = 'å¯¹è¯åç§°ä¸èƒ½ä¸ºç©º';
    } else if (settings.name.length > 50) {
      newErrors.name = 'å¯¹è¯åç§°ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦';
    }

    if (settings.description.length > 200) {
      newErrors.description = 'æè¿°ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦';
    }

    if (settings.temperature < 0 || settings.temperature > 2) {
      newErrors.temperature = 'æ¸©åº¦å€¼å¿…é¡»åœ¨0-2ä¹‹é—´';
    }

    if (settings.maxTokens < 100 || settings.maxTokens > 4000) {
      newErrors.maxTokens = 'æœ€å¤§ä»¤ç‰Œæ•°å¿…é¡»åœ¨100-4000ä¹‹é—´';
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (validateForm()) {
      onSave(settings);
    }
  };

  const handleInputChange = (field: keyof SessionSettings, value: string | number) => {
    setSettings(prev => ({ ...prev, [field]: value }));
    // æ¸…é™¤è¯¥å­—æ®µçš„é”™è¯¯
    if (errors[field]) {
      setErrors(prev => ({ ...prev, [field]: undefined }));
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-1">
          å¯¹è¯åç§°
        </label>
        <input
          type="text"
          value={settings.name}
          onChange={(e) => handleInputChange('name', e.target.value)}
          className={`w-full px-3 py-2 border rounded-md ${
            errors.name ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.name && (
          <p className="text-red-500 text-sm mt-1">{errors.name}</p>
        )}
      </div>

      <div>
        <label className="block text-sm font-medium text-gray-700 mb-1">
          æè¿°
        </label>
        <textarea
          value={settings.description}
          onChange={(e) => handleInputChange('description', e.target.value)}
          rows={3}
          className={`w-full px-3 py-2 border rounded-md ${
            errors.description ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.description && (
          <p className="text-red-500 text-sm mt-1">{errors.description}</p>
        )}
      </div>

      <div>
        <label className="block text-sm font-medium text-gray-700 mb-1">
          AIæ¨¡å‹
        </label>
        <select
          value={settings.model}
          onChange={(e) => handleInputChange('model', e.target.value)}
          className="w-full px-3 py-2 border border-gray-300 rounded-md"
        >
          <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
          <option value="gpt-4">GPT-4</option>
          <option value="qwen-plus">é€šä¹‰åƒé—® Plus</option>
        </select>
      </div>

      <div className="grid grid-cols-2 gap-4">
        <div>
          <label className="block text-sm font-medium text-gray-700 mb-1">
            æ¸©åº¦å€¼: {settings.temperature}
          </label>
          <input
            type="range"
            min="0"
            max="2"
            step="0.1"
            value={settings.temperature}
            onChange={(e) => handleInputChange('temperature', parseFloat(e.target.value))}
            className="w-full"
          />
          {errors.temperature && (
            <p className="text-red-500 text-sm mt-1">{errors.temperature}</p>
          )}
        </div>

        <div>
          <label className="block text-sm font-medium text-gray-700 mb-1">
            æœ€å¤§ä»¤ç‰Œæ•°
          </label>
          <input
            type="number"
            value={settings.maxTokens}
            onChange={(e) => handleInputChange('maxTokens', parseInt(e.target.value))}
            className={`w-full px-3 py-2 border rounded-md ${
              errors.maxTokens ? 'border-red-500' : 'border-gray-300'
            }`}
          />
          {errors.maxTokens && (
            <p className="text-red-500 text-sm mt-1">{errors.maxTokens}</p>
          )}
        </div>
      </div>

      <div className="flex gap-2 pt-4">
        <button
          type="submit"
          className="flex-1 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"
        >
          ä¿å­˜è®¾ç½®
        </button>
        <button
          type="button"
          onClick={onCancel}
          className="flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"
        >
          å–æ¶ˆ
        </button>
      </div>
    </form>
  );
}
```

#### é”®ç›˜äº‹ä»¶å¤„ç†

```typescript
// app/components/chat/MessageInput.tsxï¼ˆå¢å¼ºç‰ˆï¼‰
import { useState, useCallback, useEffect } from 'react';

interface MessageInputProps {
  onSendMessage: (message: string) => void;
  disabled?: boolean;
  placeholder?: string;
}

export default function MessageInput({ 
  onSendMessage, 
  disabled = false,
  placeholder = "è¾“å…¥ä½ çš„æ¶ˆæ¯..."
}: MessageInputProps) {
  const [message, setMessage] = useState('');
  const [isComposing, setIsComposing] = useState(false);
  const [commandMode, setCommandMode] = useState(false);

  // å¤„ç†å¿«æ·é”®
  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {
    // æ£€æµ‹å‘½ä»¤æ¨¡å¼ï¼ˆä»¥/å¼€å¤´ï¼‰
    if (e.key === '/' && message === '') {
      setCommandMode(true);
      return;
    }

    // Escapeé”®é€€å‡ºå‘½ä»¤æ¨¡å¼
    if (e.key === 'Escape') {
      setCommandMode(false);
      return;
    }

    // Enterå‘é€æ¶ˆæ¯
    if (e.key === 'Enter' && !e.shiftKey && !isComposing) {
      e.preventDefault();
      handleSendMessage();
      return;
    }

    // Ctrl+Enterå¼ºåˆ¶å‘é€ï¼ˆå³ä½¿åœ¨è¾“å…¥æ³•ç»„åˆä¸­ï¼‰
    if (e.key === 'Enter' && e.ctrlKey) {
      e.preventDefault();
      handleSendMessage();
      return;
    }

    // ä¸Šç®­å¤´è·å–å†å²æ¶ˆæ¯ï¼ˆç®€å•å®ç°ï¼‰
    if (e.key === 'ArrowUp' && message === '') {
      // è¿™é‡Œå¯ä»¥å®ç°å†å²æ¶ˆæ¯åŠŸèƒ½
      console.log('Load previous message');
    }
  }, [message, isComposing]);

  const handleSendMessage = useCallback(() => {
    const trimmedMessage = message.trim();
    if (trimmedMessage && !disabled) {
      onSendMessage(trimmedMessage);
      setMessage('');
      setCommandMode(false);
    }
  }, [message, disabled, onSendMessage]);

  // ç›‘å¬å…¨å±€é”®ç›˜äº‹ä»¶
  useEffect(() => {
    const handleGlobalKeyDown = (e: KeyboardEvent) => {
      // Ctrl+/ èšç„¦åˆ°è¾“å…¥æ¡†
      if (e.ctrlKey && e.key === '/') {
        e.preventDefault();
        const input = document.querySelector('input[data-message-input]') as HTMLInputElement;
        input?.focus();
      }
    };

    document.addEventListener('keydown', handleGlobalKeyDown);
    return () => document.removeEventListener('keydown', handleGlobalKeyDown);
  }, []);

  return (
    <div className="border-t border-gray-200 p-4">
      {commandMode && (
        <div className="mb-2 text-sm text-gray-500">
          å‘½ä»¤æ¨¡å¼ï¼šè¾“å…¥å‘½ä»¤æˆ–æŒ‰Escé€€å‡º
        </div>
      )}
      
      <div className="flex gap-2">
        <input
          data-message-input
          type="text"
          value={message}
          onChange={(e) => setMessage(e.target.value)}
          onKeyDown={handleKeyDown}
          onCompositionStart={() => setIsComposing(true)}
          onCompositionEnd={() => setIsComposing(false)}
          placeholder={commandMode ? "è¾“å…¥å‘½ä»¤..." : placeholder}
          disabled={disabled}
          className={`
            flex-1 px-3 py-2 border rounded-md resize-none
            ${commandMode ? 'border-blue-400 bg-blue-50' : 'border-gray-300'}
            ${disabled ? 'bg-gray-100' : ''}
          `}
        />
        
        <button
          onClick={handleSendMessage}
          disabled={disabled || !message.trim()}
          className="px-4 py-2 bg-blue-500 text-white rounded-md disabled:bg-gray-300 hover:bg-blue-600"
        >
          å‘é€
        </button>
      </div>
      
      <div className="mt-2 text-xs text-gray-500">
        Enterå‘é€ | Shift+Enteræ¢è¡Œ | Ctrl+/èšç„¦ | /å‘½ä»¤æ¨¡å¼
      </div>
    </div>
  );
}
```

---

## ğŸ’» å®è·µæŒ‡å¯¼

### ä»£ç è¿è¡Œå’Œæµ‹è¯•æ–¹æ³•

#### åˆ›å»ºå’Œæµ‹è¯•åŸºç¡€ç»„ä»¶

**æ­¥éª¤1ï¼šåˆ›å»ºç»„ä»¶ç›®å½•ç»“æ„**

```bash
# åˆ›å»ºç»„ä»¶ç›®å½•
mkdir -p app/components/{ui,chat,forms,layout}

# åˆ›å»ºç´¢å¼•æ–‡ä»¶
touch app/components/{ui,chat,forms,layout}/index.ts
touch app/components/index.ts
```

**æ­¥éª¤2ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªç»„ä»¶**

```typescript
// app/components/ui/Button.tsx
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  variant?: 'primary' | 'secondary' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
}

export default function Button({
  children,
  onClick,
  variant = 'primary',
  size = 'md',
  disabled = false,
  loading = false,
}: ButtonProps) {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-md transition-colors';
  
  const variantClasses = {
    primary: 'bg-blue-500 text-white hover:bg-blue-600 disabled:bg-gray-300',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 disabled:bg-gray-100',
    outline: 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:bg-gray-50',
  };
  
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg',
  };

  return (
    <button
      onClick={onClick}
      disabled={disabled || loading}
      className={`
        ${baseClasses}
        ${variantClasses[variant]}
        ${sizeClasses[size]}
        ${(disabled || loading) ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}
      `}
    >
      {loading && (
        <svg className="animate-spin -ml-1 mr-3 h-5 w-5" fill="none" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" className="opacity-25" />
          <path fill="currentColor" className="opacity-75" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
        </svg>
      )}
      {children}
    </button>
  );
}
```

**æ­¥éª¤3ï¼šåˆ›å»ºç»„ä»¶ç´¢å¼•æ–‡ä»¶**

```typescript
// app/components/ui/index.ts
export { default as Button } from './Button';
export { default as Input } from './Input';
export { default as Modal } from './Modal';

// app/components/index.ts
export * from './ui';
export * from './chat';
export * from './forms';
export * from './layout';
```

#### æµ‹è¯•ç»„ä»¶é›†æˆ

**åˆ›å»ºæµ‹è¯•é¡µé¢**ï¼š

```typescript
// app/test-components/page.tsx
'use client';

import { useState } from 'react';
import { Button, Input, Modal } from '@/components';

export default function TestComponentsPage() {
  const [inputValue, setInputValue] = useState('');
  const [showModal, setShowModal] = useState(false);
  const [loading, setLoading] = useState(false);

  const handleButtonClick = () => {
    setLoading(true);
    setTimeout(() => {
      setLoading(false);
      setShowModal(true);
    }, 2000);
  };

  return (
    <div className="container mx-auto p-8 space-y-8">
      <h1 className="text-3xl font-bold">ç»„ä»¶æµ‹è¯•é¡µé¢</h1>
      
      {/* æŒ‰é’®æµ‹è¯• */}
      <section className="space-y-4">
        <h2 className="text-xl font-semibold">æŒ‰é’®ç»„ä»¶æµ‹è¯•</h2>
        <div className="flex gap-4">
          <Button variant="primary" onClick={handleButtonClick} loading={loading}>
            ä¸»è¦æŒ‰é’®
          </Button>
          <Button variant="secondary">æ¬¡è¦æŒ‰é’®</Button>
          <Button variant="outline">è½®å»“æŒ‰é’®</Button>
          <Button disabled>ç¦ç”¨æŒ‰é’®</Button>
        </div>
      </section>

      {/* è¾“å…¥æ¡†æµ‹è¯• */}
      <section className="space-y-4">
        <h2 className="text-xl font-semibold">è¾“å…¥æ¡†ç»„ä»¶æµ‹è¯•</h2>
        <Input
          value={inputValue}
          onChange={setInputValue}
          placeholder="è¯·è¾“å…¥å†…å®¹..."
        />
        <p>å½“å‰è¾“å…¥å€¼ï¼š{inputValue}</p>
      </section>

      {/* æ¨¡æ€æ¡†æµ‹è¯• */}
      <Modal
        isOpen={showModal}
        onClose={() => setShowModal(false)}
        title="æµ‹è¯•æ¨¡æ€æ¡†"
      >
        <p>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ¨¡æ€æ¡†çš„å†…å®¹ã€‚</p>
        <p>è¾“å…¥çš„å€¼æ˜¯ï¼š{inputValue}</p>
      </Modal>
    </div>
  );
}
```

#### å¯åŠ¨å’Œæµ‹è¯•

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®æµ‹è¯•é¡µé¢
# http://localhost:3000/test-components

# æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
# æµ‹è¯•å„ç§äº¤äº’åŠŸèƒ½
```

### å®é™…æ“ä½œçš„å…·ä½“æ­¥éª¤

#### æ­¥éª¤1ï¼šå»ºç«‹ç»„ä»¶å¼€å‘å·¥ä½œæµ

```bash
# 1. åˆ›å»ºæ–°ç»„ä»¶è„šæœ¬
cat > scripts/create-component.js << 'EOF'
const fs = require('fs');
const path = require('path');

function createComponent(componentName, componentType = 'ui') {
  const componentDir = path.join(process.cwd(), 'app', 'components', componentType, componentName);
  
  if (!fs.existsSync(componentDir)) {
    fs.mkdirSync(componentDir, { recursive: true });
  }

  const componentTemplate = `interface ${componentName}Props {
  children?: React.ReactNode;
  className?: string;
}

export default function ${componentName}({ children, className }: ${componentName}Props) {
  return (
    <div className={className}>
      {children}
    </div>
  );
}
`;

  const indexTemplate = `export { default } from './${componentName}';
export type { ${componentName}Props } from './${componentName}';
`;

  fs.writeFileSync(path.join(componentDir, `${componentName}.tsx`), componentTemplate);
  fs.writeFileSync(path.join(componentDir, 'index.ts'), indexTemplate);

  console.log(`âœ… ç»„ä»¶ ${componentName} åˆ›å»ºæˆåŠŸï¼`);
}

const [,, componentName, componentType] = process.argv;
if (componentName) {
  createComponent(componentName, componentType);
} else {
  console.log('ç”¨æ³•: node scripts/create-component.js ComponentName [ui|chat|forms|layout]');
}
EOF

# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/create-component.js
```

#### æ­¥éª¤2ï¼šå®ç°èŠå¤©ç»„ä»¶

```bash
# åˆ›å»ºèŠå¤©ç›¸å…³ç»„ä»¶
node scripts/create-component.js MessageBubble chat
node scripts/create-component.js MessageList chat
node scripts/create-component.js MessageInput chat
node scripts/create-component.js ChatContainer chat
```

ç„¶åç¼–è¾‘ç”Ÿæˆçš„ç»„ä»¶æ–‡ä»¶ï¼Œæ·»åŠ å…·ä½“å®ç°...

#### æ­¥éª¤3ï¼šå»ºç«‹å¼€å‘å’Œæµ‹è¯•æµç¨‹

```bash
# åˆ›å»ºç»„ä»¶å¼€å‘æŒ‡å—
cat > docs/component-development.md << 'EOF'
# ç»„ä»¶å¼€å‘æŒ‡å—

## å¼€å‘æµç¨‹

1. **è®¾è®¡é˜¶æ®µ**
   - ç¡®å®šç»„ä»¶åŠŸèƒ½å’Œæ¥å£
   - è®¾è®¡Propsç±»å‹å®šä¹‰
   - è€ƒè™‘å¤ç”¨æ€§å’Œå¯æ‰©å±•æ€§

2. **å®ç°é˜¶æ®µ**
   - ä½¿ç”¨è„šæœ¬åˆ›å»ºç»„ä»¶éª¨æ¶
   - å®ç°ç»„ä»¶é€»è¾‘å’ŒUI
   - æ·»åŠ TypeScriptç±»å‹å®šä¹‰

3. **æµ‹è¯•é˜¶æ®µ**
   - åœ¨æµ‹è¯•é¡µé¢ä¸­éªŒè¯åŠŸèƒ½
   - æµ‹è¯•å„ç§Propsç»„åˆ
   - æµ‹è¯•ç”¨æˆ·äº¤äº’å’Œè¾¹ç•Œæƒ…å†µ

4. **æ–‡æ¡£é˜¶æ®µ**
   - æ·»åŠ ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹
   - è®°å½•Propsæ¥å£è¯´æ˜
   - æ›´æ–°ç»„ä»¶ç´¢å¼•æ–‡ä»¶

## æœ€ä½³å®è·µ

- éµå¾ªå•ä¸€èŒè´£åŸåˆ™
- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹çº¦æŸ
- è€ƒè™‘å¯è®¿é—®æ€§(a11y)
- ä¿æŒç»„ä»¶çš„çº¯åº¦å’Œå¯æµ‹è¯•æ€§
EOF
```

### é—®é¢˜è§£å†³çš„æ–¹æ³•æŒ‡å¯¼

#### å¸¸è§é—®é¢˜1ï¼šç»„ä»¶çŠ¶æ€ç®¡ç†æ··ä¹±

**ç—‡çŠ¶**ï¼šç»„ä»¶å†…éƒ¨çŠ¶æ€è¿‡å¤šï¼Œéš¾ä»¥ç®¡ç†

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// ä½¿ç”¨useReduceræ›¿ä»£å¤šä¸ªuseState
import { useReducer } from 'react';

interface FormState {
  values: Record<string, any>;
  errors: Record<string, string>;
  isSubmitting: boolean;
}

type FormAction = 
  | { type: 'SET_FIELD'; field: string; value: any }
  | { type: 'SET_ERROR'; field: string; error: string }
  | { type: 'CLEAR_ERRORS' }
  | { type: 'SET_SUBMITTING'; isSubmitting: boolean };

function formReducer(state: FormState, action: FormAction): FormState {
  switch (action.type) {
    case 'SET_FIELD':
      return {
        ...state,
        values: { ...state.values, [action.field]: action.value },
        errors: { ...state.errors, [action.field]: '' },
      };
    // ... å…¶ä»–case
    default:
      return state;
  }
}
```

#### å¸¸è§é—®é¢˜2ï¼šæ€§èƒ½é—®é¢˜

**ç—‡çŠ¶**ï¼šç»„ä»¶é¢‘ç¹é‡æ–°æ¸²æŸ“

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
import { memo, useMemo, useCallback } from 'react';

// ä½¿ç”¨memoåŒ…è£…ç»„ä»¶
const MessageBubble = memo(function MessageBubble({ message }: MessageBubbleProps) {
  // ä½¿ç”¨useMemoç¼“å­˜å¤æ‚è®¡ç®—
  const formattedTime = useMemo(() => {
    return message.timestamp.toLocaleTimeString();
  }, [message.timestamp]);

  return (
    <div>{message.content} - {formattedTime}</div>
  );
});

// ä½¿ç”¨useCallbackç¼“å­˜å‡½æ•°
const ChatContainer = () => {
  const handleSendMessage = useCallback((content: string) => {
    // å‘é€æ¶ˆæ¯é€»è¾‘
  }, [/* ä¾èµ–é¡¹ */]);

  return <MessageInput onSendMessage={handleSendMessage} />;
};
```

#### å¸¸è§é—®é¢˜3ï¼šç±»å‹å®šä¹‰é”™è¯¯

**ç—‡çŠ¶**ï¼šTypeScriptç±»å‹é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// æ­£ç¡®å®šä¹‰äº‹ä»¶å¤„ç†å™¨ç±»å‹
interface InputProps {
  onChange: (value: string) => void; // ä¸æ˜¯(e: ChangeEvent) => void
}

// æ­£ç¡®å®šä¹‰å¯é€‰å±æ€§
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void; // æ³¨æ„é—®å·
  disabled?: boolean;
}

// æ­£ç¡®å®šä¹‰è”åˆç±»å‹
interface MessageProps {
  message: {
    role: 'user' | 'assistant' | 'system'; // è”åˆç±»å‹
    content: string;
  };
}
```

### é¼“åŠ±å­¦å‘˜åŠ¨æ‰‹å®è·µçš„è¯æœ¯

ğŸ‰ **æ­å–œä½ å¼€å§‹çœŸæ­£çš„Reactå¼€å‘ä¹‹æ—…ï¼**

ä»ä»Šå¤©å¼€å§‹ï¼Œä½ å°†äº²æ‰‹åˆ›å»ºä¸€ä¸ªä¸ªé²œæ´»çš„ç»„ä»¶ï¼Œçœ‹ç€å®ƒä»¬åœ¨æµè§ˆå™¨ä¸­é€æ¸æˆå½¢ã€‚æ¯ä¸€æ¬¡æˆåŠŸçš„ç»„ä»¶æ¸²æŸ“ï¼Œæ¯ä¸€æ¬¡æµç•…çš„ç”¨æˆ·äº¤äº’ï¼Œéƒ½æ˜¯ä½ ç¼–ç¨‹æŠ€èƒ½æå‡çš„è§è¯ï¼

**ä½ ç°åœ¨æ­£åœ¨å­¦ä¹ çš„æ ¸å¿ƒæŠ€èƒ½**ï¼š
- âœ… **ç»„ä»¶åŒ–æ€ç»´**ï¼šå­¦ä¼šå°†å¤æ‚ç•Œé¢åˆ†è§£ä¸ºç®€å•ã€å¯é‡ç”¨çš„ç»„ä»¶
- âœ… **çŠ¶æ€ç®¡ç†èƒ½åŠ›**ï¼šæŒæ¡Reactä¸­æ•°æ®æµåŠ¨å’ŒçŠ¶æ€å˜åŒ–çš„ç²¾é«“
- âœ… **ç”¨æˆ·äº¤äº’å¤„ç†**ï¼šè®©ä½ çš„åº”ç”¨çœŸæ­£èƒ½å¤Ÿå“åº”ç”¨æˆ·çš„å„ç§æ“ä½œ
- âœ… **ç°ä»£å¼€å‘æ¨¡å¼**ï¼šä½¿ç”¨Hooksã€å‡½æ•°ç»„ä»¶ç­‰ç°ä»£Reactç‰¹æ€§

**å³å°†ä½“éªŒçš„æˆå°±æ„Ÿ**ï¼š
- ğŸ¨ å½“ä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶åœ¨é¡µé¢ä¸Šå®Œç¾æ˜¾ç¤ºæ—¶çš„å…´å¥‹
- âš¡ å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®è§¦å‘ä½ ç¼–å†™çš„å‡½æ•°æ—¶çš„ç¥å¥‡æ„Ÿå—
- ğŸ”„ å½“çŠ¶æ€æ›´æ–°å¯¼è‡´ç•Œé¢è‡ªåŠ¨åˆ·æ–°æ—¶çš„æŠ€æœ¯ç¾æ„Ÿ
- ğŸ› ï¸ å½“ä½ èƒ½å¤Ÿçµæ´»ç»„åˆç»„ä»¶æ„å»ºå¤æ‚ç•Œé¢æ—¶çš„è‡ªè±ª

**å®è·µå»ºè®®**ï¼š
1. **è¾¹å­¦è¾¹åš**ï¼šæ¯å­¦ä¼šä¸€ä¸ªæ¦‚å¿µç«‹å³åŠ¨æ‰‹å®ç°
2. **å¤šè¯•å¤šé”™**ï¼šä¸è¦å®³æ€•é”™è¯¯ï¼Œæ¯ä¸ªé”™è¯¯éƒ½æ˜¯å­¦ä¹ æœºä¼š
3. **è§‚å¯Ÿç»†èŠ‚**ï¼šæ³¨æ„ç»„ä»¶çš„æ¸²æŸ“ã€æ›´æ–°ã€äº¤äº’çš„æ¯ä¸ªç»†èŠ‚
4. **ä¸¾ä¸€åä¸‰**ï¼šåŸºäºå­¦åˆ°çš„æ¨¡å¼åˆ›å»ºè‡ªå·±çš„ç»„ä»¶å˜ä½“

è®°ä½ï¼š**Reactç»„ä»¶å°±åƒä¹é«˜ç§¯æœ¨**ï¼Œä½ ç°åœ¨æ­£åœ¨å­¦ä¹ åˆ¶ä½œå„ç§å½¢çŠ¶çš„ç§¯æœ¨ï¼Œå¾ˆå¿«ä½ å°±èƒ½ç”¨è¿™äº›ç§¯æœ¨æ­å»ºå‡ºä»¤äººæƒŠå¹çš„åº”ç”¨ï¼

ç»§ç»­åŠ æ²¹ï¼æ¯ä¸€è¡Œä»£ç éƒ½è®©ä½ æ›´æ¥è¿‘æˆä¸ºReactå¼€å‘é«˜æ‰‹ï¼ğŸš€

---

## ğŸ“‹ çŸ¥è¯†ç‚¹æ€»ç»“å›é¡¾

### æœ¬èŠ‚è¯¾æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¸…å•

#### âš›ï¸ Reactå‡½æ•°ç»„ä»¶ç²¾å

**ç»„ä»¶åŸºç¡€ç»“æ„**ï¼š
- **å‡½æ•°å£°æ˜**ï¼š`function ComponentName({ props })`çš„ç°ä»£æ¨¡å¼
- **Propsæ¥å£**ï¼šTypeScriptæ¥å£å®šä¹‰ç»„ä»¶çš„è¾“å…¥çº¦å®š
- **JSXè¿”å›**ï¼šç»„ä»¶è¿”å›æè¿°UIç»“æ„çš„JSXå…ƒç´ 
- **é»˜è®¤å¯¼å‡º**ï¼š`export default`æä¾›ç»„ä»¶çš„æ ‡å‡†å¯¼å‡ºæ–¹å¼

**ç»„ä»¶è®¾è®¡åŸåˆ™**ï¼š
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šåŠŸèƒ½
- **Propsé©±åŠ¨**ï¼šé€šè¿‡propsæ¥æ”¶å¤–éƒ¨æ•°æ®å’Œå›è°ƒå‡½æ•°
- **æ— å‰¯ä½œç”¨**ï¼šçº¯ç»„ä»¶åªä¾èµ–propså’Œå†…éƒ¨çŠ¶æ€
- **å¯ç»„åˆæ€§**ï¼šå°ç»„ä»¶ç»„åˆæˆå¤§ç»„ä»¶çš„è®¾è®¡æ€ç»´

#### ğŸ£ React Hooksæ·±åº¦åº”ç”¨

**useStateçŠ¶æ€ç®¡ç†**ï¼š
```typescript
const [state, setState] = useState(initialValue);
// çŠ¶æ€æ›´æ–°ï¼šsetState(newValue) æˆ– setState(prev => newValue)
// ç±»å‹æ¨æ–­ï¼šTypeScriptè‡ªåŠ¨æ¨æ–­çŠ¶æ€ç±»å‹
// å¤šçŠ¶æ€ç®¡ç†ï¼šæ¯ä¸ªç‹¬ç«‹çŠ¶æ€ä½¿ç”¨å•ç‹¬çš„useState
```

**useEffectå‰¯ä½œç”¨å¤„ç†**ï¼š
```typescript
useEffect(() => {
  // å‰¯ä½œç”¨é€»è¾‘
  return () => {
    // æ¸…ç†é€»è¾‘
  };
}, [dependencies]); // ä¾èµ–æ•°ç»„æ§åˆ¶æ‰§è¡Œæ—¶æœº
```

**useRefå¼•ç”¨ç®¡ç†**ï¼š
```typescript
const ref = useRef<HTMLElement>(null);
// DOMå¼•ç”¨ï¼šè®¿é—®å’Œæ“ä½œDOMå…ƒç´ 
// æ•°æ®å­˜å‚¨ï¼šä¿å­˜ä¸è§¦å‘é‡æ¸²æŸ“çš„æ•°æ®
// å®šæ—¶å™¨ç®¡ç†ï¼šå­˜å‚¨setTimeout/setIntervalå¼•ç”¨
```

#### ğŸ”„ ç»„ä»¶é€šä¿¡æ¨¡å¼

**çˆ¶å­é€šä¿¡æ–¹å¼**ï¼š
- **Propså‘ä¸‹ä¼ é€’**ï¼šçˆ¶ç»„ä»¶é€šè¿‡propså‘å­ç»„ä»¶ä¼ é€’æ•°æ®
- **å›è°ƒå‘ä¸Šä¼ é€’**ï¼šå­ç»„ä»¶é€šè¿‡å›è°ƒå‡½æ•°å‘çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶
- **çŠ¶æ€æå‡**ï¼šå°†å…±äº«çŠ¶æ€æå‡åˆ°å…±åŒçš„çˆ¶ç»„ä»¶ä¸­
- **Contextè·¨å±‚çº§**ï¼šä½¿ç”¨React.Contextè¿›è¡Œæ·±å±‚æ¬¡ç»„ä»¶é€šä¿¡

**æ•°æ®æµåŠ¨åŸåˆ™**ï¼š
```
å•å‘æ•°æ®æµï¼šæ•°æ®ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶
äº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶ä»å­ç»„ä»¶ä¼ é€’åˆ°çˆ¶ç»„ä»¶
çŠ¶æ€ç®¡ç†ï¼šçŠ¶æ€å°½å¯èƒ½é è¿‘ä½¿ç”¨å®ƒçš„ç»„ä»¶
å…¨å±€çŠ¶æ€ï¼šè·¨ç»„ä»¶çŠ¶æ€ä½¿ç”¨Contextæˆ–çŠ¶æ€ç®¡ç†åº“
```

#### ğŸ¯ äº‹ä»¶å¤„ç†ä¸äº¤äº’

**è¡¨å•å¤„ç†ç­–ç•¥**ï¼š
- **å—æ§ç»„ä»¶**ï¼šè¡¨å•å…ƒç´ çš„å€¼ç”±ReactçŠ¶æ€æ§åˆ¶
- **è¡¨å•éªŒè¯**ï¼šå®æ—¶éªŒè¯å’Œæäº¤å‰éªŒè¯çš„ç»“åˆ
- **é”™è¯¯å¤„ç†**ï¼šç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“å’ŒéªŒè¯

**ç”¨æˆ·äº¤äº’ä¼˜åŒ–**ï¼š
- **é”®ç›˜æ”¯æŒ**ï¼šå®Œæ•´çš„é”®ç›˜å¯¼èˆªå’Œå¿«æ·é”®æ”¯æŒ
- **åŠ è½½çŠ¶æ€**ï¼šå¼‚æ­¥æ“ä½œçš„åŠ è½½å’Œé”™è¯¯çŠ¶æ€ç®¡ç†
- **é˜²æŠ–èŠ‚æµ**ï¼šé«˜é¢‘äº‹ä»¶çš„æ€§èƒ½ä¼˜åŒ–å¤„ç†
- **å¯è®¿é—®æ€§**ï¼šéµå¾ªWCAGæ ‡å‡†çš„å¯è®¿é—®æ€§å®ç°

### é‡è¦æ¨¡å¼å’Œæœ€ä½³å®è·µ

#### ç»„ä»¶å¼€å‘æ¨¡å¼

**ç»„ä»¶æŠ½è±¡å±‚æ¬¡**ï¼š
```
åŸºç¡€ç»„ä»¶ï¼ˆButtonã€Inputï¼‰â†’ åŠŸèƒ½ç»„ä»¶ï¼ˆMessageInputï¼‰â†’ é¡µé¢ç»„ä»¶ï¼ˆChatPageï¼‰
åŸå­ç»„ä»¶ â†’ åˆ†å­ç»„ä»¶ â†’ ç»„ç»‡ç»„ä»¶ â†’ æ¨¡æ¿ç»„ä»¶ â†’ é¡µé¢ç»„ä»¶
```

**çŠ¶æ€ç®¡ç†ç­–ç•¥**ï¼š
- **æœ¬åœ°çŠ¶æ€**ï¼šç»„ä»¶å†…éƒ¨çŠ¶æ€ä½¿ç”¨useState
- **å…±äº«çŠ¶æ€**ï¼šç›¸å…³ç»„ä»¶é—´çŠ¶æ€ä½¿ç”¨çŠ¶æ€æå‡
- **å…¨å±€çŠ¶æ€**ï¼šåº”ç”¨çº§çŠ¶æ€ä½¿ç”¨Contextæˆ–çŠ¶æ€åº“
- **æœåŠ¡å™¨çŠ¶æ€**ï¼šå¼‚æ­¥æ•°æ®ä½¿ç”¨ä¸“é—¨çš„æ•°æ®è·å–åº“

#### æ€§èƒ½ä¼˜åŒ–æŠ€å·§

**é‡æ–°æ¸²æŸ“ä¼˜åŒ–**ï¼š
```typescript
// 1. ä½¿ç”¨React.memo
const ExpensiveComponent = memo(({ data }) => {
  return <div>{/* å¤æ‚æ¸²æŸ“é€»è¾‘ */}</div>;
});

// 2. ä½¿ç”¨useMemoç¼“å­˜è®¡ç®—
const processedData = useMemo(() => {
  return expensiveCalculation(rawData);
}, [rawData]);

// 3. ä½¿ç”¨useCallbackç¼“å­˜å‡½æ•°
const handleClick = useCallback(() => {
  // äº‹ä»¶å¤„ç†é€»è¾‘
}, [dependency]);
```

**ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½**ï¼š
```typescript
import { lazy, Suspense } from 'react';

const LazyComponent = lazy(() => import('./LazyComponent'));

function App() {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </Suspense>
  );
}
```

### æŠ€èƒ½è¦ç‚¹å’Œå…³é”®ç†è§£

#### æ ¸å¿ƒæŠ€èƒ½æŒæ¡æ£€æŸ¥

**ReactåŸºç¡€èƒ½åŠ›**ï¼š
- [ ] èƒ½å¤Ÿåˆ›å»ºå’Œä½¿ç”¨å‡½æ•°ç»„ä»¶
- [ ] ç†Ÿç»ƒä½¿ç”¨useStateã€useEffectã€useRefç­‰åŸºç¡€Hook
- [ ] ç†è§£ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå’Œæ¸²æŸ“æœºåˆ¶
- [ ] æŒæ¡JSXè¯­æ³•å’Œæ¡ä»¶æ¸²æŸ“ã€åˆ—è¡¨æ¸²æŸ“

**çŠ¶æ€ç®¡ç†èƒ½åŠ›**ï¼š
- [ ] èƒ½å¤Ÿåˆç†è®¾è®¡ç»„ä»¶çš„çŠ¶æ€ç»“æ„
- [ ] ç†è§£çŠ¶æ€æ›´æ–°çš„å¼‚æ­¥æ€§è´¨å’Œæ‰¹å¤„ç†
- [ ] æŒæ¡å¤æ‚çŠ¶æ€çš„useReducerä½¿ç”¨
- [ ] èƒ½å¤Ÿå®ç°çŠ¶æ€æå‡å’ŒContextä½¿ç”¨

**äº‹ä»¶å¤„ç†èƒ½åŠ›**ï¼š
- [ ] èƒ½å¤Ÿå¤„ç†å„ç§ç”¨æˆ·äº‹ä»¶ï¼ˆç‚¹å‡»ã€è¾“å…¥ã€æäº¤ç­‰ï¼‰
- [ ] æŒæ¡è¡¨å•å¤„ç†å’ŒéªŒè¯çš„æœ€ä½³å®è·µ
- [ ] ç†è§£äº‹ä»¶å¯¹è±¡å’Œäº‹ä»¶å¤„ç†çš„æ€§èƒ½ä¼˜åŒ–
- [ ] èƒ½å¤Ÿå®ç°å¤æ‚çš„ç”¨æˆ·äº¤äº’é€»è¾‘

#### å®é™…åº”ç”¨çš„å…³é”®ç‚¹

**ç»„ä»¶è®¾è®¡æ€ç»´**ï¼š
1. **ä»ç”¨æˆ·éœ€æ±‚å‡ºå‘**ï¼šå…ˆç¡®å®šç»„ä»¶è¦è§£å†³ä»€ä¹ˆé—®é¢˜
2. **æ¥å£è®¾è®¡ä¼˜å…ˆ**ï¼šå…ˆè®¾è®¡Propsæ¥å£å†å®ç°ç»„ä»¶
3. **æ¸è¿›å¼å¤æ‚åŒ–**ï¼šä»ç®€å•ç‰ˆæœ¬å¼€å§‹ï¼Œé€æ­¥æ·»åŠ åŠŸèƒ½
4. **æµ‹è¯•é©±åŠ¨å¼€å‘**ï¼šè€ƒè™‘å¦‚ä½•æµ‹è¯•æ¥æŒ‡å¯¼ç»„ä»¶è®¾è®¡

**ä»£ç è´¨é‡ä¿è¯**ï¼š
1. **ç±»å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨TypeScriptçš„ç±»å‹æ£€æŸ¥
2. **é”™è¯¯è¾¹ç•Œ**ï¼šåˆç†å¤„ç†ç»„ä»¶é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µ
3. **æ€§èƒ½è€ƒè™‘**ï¼šé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“å’Œå†…å­˜æ³„æ¼
4. **å¯ç»´æŠ¤æ€§**ï¼šç¼–å†™æ¸…æ™°ã€å¯è¯»ã€å¯æ‰©å±•çš„ä»£ç 

### å­¦ä¹ æ£€æŸ¥æ¸…å•

#### åŸºç¡€æŒæ¡æ ‡å‡†ï¼ˆå¿…é¡»è¾¾åˆ°ï¼‰
- [ ] åˆ›å»ºäº†è‡³å°‘5ä¸ªä¸åŒç±»å‹çš„Reactç»„ä»¶
- [ ] å®ç°äº†çˆ¶å­ç»„ä»¶é—´çš„æ•°æ®ä¼ é€’å’Œäº‹ä»¶é€šä¿¡
- [ ] ä½¿ç”¨äº†useStateã€useEffectè¿›è¡ŒçŠ¶æ€å’Œå‰¯ä½œç”¨ç®¡ç†
- [ ] å®Œæˆäº†åŸºæœ¬çš„è¡¨å•å¤„ç†å’Œç”¨æˆ·äº¤äº’

#### è¿›é˜¶ç†è§£æ ‡å‡†ï¼ˆå»ºè®®è¾¾åˆ°ï¼‰
- [ ] èƒ½å¤Ÿä½¿ç”¨useContextå®ç°è·¨ç»„ä»¶çŠ¶æ€å…±äº«
- [ ] æŒæ¡äº†useCallbackã€useMemoç­‰æ€§èƒ½ä¼˜åŒ–Hook
- [ ] å®ç°äº†å¤æ‚çš„ç»„ä»¶äº¤äº’å’ŒçŠ¶æ€ç®¡ç†
- [ ] å»ºç«‹äº†å¯é‡ç”¨çš„ç»„ä»¶åº“å’Œè®¾è®¡æ¨¡å¼

#### ä¸“ä¸šåº”ç”¨æ ‡å‡†ï¼ˆä¼˜ç§€ç›®æ ‡ï¼‰
- [ ] èƒ½å¤Ÿè®¾è®¡å’Œå®ç°ä¼ä¸šçº§çš„ç»„ä»¶æ¶æ„
- [ ] æŒæ¡äº†Reactçš„é«˜çº§æ¨¡å¼å’Œæ€§èƒ½ä¼˜åŒ–æŠ€æœ¯
- [ ] èƒ½å¤ŸæŒ‡å¯¼å›¢é˜Ÿè¿›è¡Œç»„ä»¶åŒ–å¼€å‘
- [ ] å»ºç«‹äº†å®Œæ•´çš„ç»„ä»¶å¼€å‘å’Œæµ‹è¯•æµç¨‹

---

## ğŸš€ è¯¾ç¨‹æ€»ç»“ä¸å±•æœ›

### å­¦ä¹ æˆæœçš„è‚¯å®š

ğŸ‰ **æ­å–œä½ å®Œæˆäº†ReactåŸºç¡€åº”ç”¨çš„å­¦ä¹ ï¼**

è¿™ä¸€èŠ‚è¯¾æ ‡å¿—ç€ä½ ä»"é…ç½®ç¯å¢ƒ"æ­£å¼è½¬å…¥äº†"ç¼–å†™ä»£ç "é˜¶æ®µã€‚ä½ ç°åœ¨å·²ç»æŒæ¡äº†Reactå¼€å‘çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œèƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½å®Œæ•´ã€äº¤äº’æµç•…çš„ç”¨æˆ·ç•Œé¢ç»„ä»¶ï¼

#### ğŸŒŸ ä½ è·å¾—çš„æ ¸å¿ƒèƒ½åŠ›

1. **ç»„ä»¶åŒ–å¼€å‘æ€ç»´**ï¼š
   - å­¦ä¼šäº†å°†å¤æ‚ç•Œé¢åˆ†è§£ä¸ºç®€å•ã€å¯é‡ç”¨çš„ç»„ä»¶
   - æŒæ¡äº†ç»„ä»¶çš„è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ
   - å»ºç«‹äº†ç°ä»£å‰ç«¯å¼€å‘çš„æ€ç»´æ¨¡å¼

2. **ReactæŠ€æœ¯æ ˆç†Ÿç»ƒåº¦**ï¼š
   - ç†Ÿç»ƒä½¿ç”¨å‡½æ•°ç»„ä»¶å’ŒHooksè¿›è¡Œå¼€å‘
   - æŒæ¡äº†çŠ¶æ€ç®¡ç†å’Œç»„ä»¶é€šä¿¡çš„æ ¸å¿ƒæ–¹æ³•
   - ç†è§£äº†Reactçš„æ¸²æŸ“æœºåˆ¶å’Œæ€§èƒ½ä¼˜åŒ–

3. **ç”¨æˆ·äº¤äº’å¤„ç†èƒ½åŠ›**ï¼š
   - èƒ½å¤Ÿå¤„ç†å„ç§ç”¨æˆ·äº‹ä»¶å’Œè¡¨å•äº¤äº’
   - å®ç°äº†æµç•…çš„ç”¨æˆ·ä½“éªŒå’Œäº¤äº’åé¦ˆ
   - å»ºç«‹äº†ç”¨æˆ·ç•Œé¢å¼€å‘çš„ä¸“ä¸šæŠ€èƒ½

#### ğŸŠ å®é™…çš„ä»·å€¼ä½“ç°

**ç«‹å³å¯è§çš„æˆæœ**ï¼š
- âœ… æ‹¥æœ‰äº†ä¸€å¥—å®Œæ•´çš„Reactç»„ä»¶åº“
- âœ… èƒ½å¤Ÿåˆ›å»ºäº¤äº’ä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢
- âœ… æŒæ¡äº†ç°ä»£å‰ç«¯å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯

**é•¿æœŸæŠ€èƒ½æŠ•èµ„**ï¼š
- ğŸš€ ReactæŠ€èƒ½åœ¨å°±ä¸šå¸‚åœºä¸Šéå¸¸å—æ¬¢è¿
- ğŸ¯ ç»„ä»¶åŒ–æ€ç»´é€‚ç”¨äºå„ç§å‰ç«¯æ¡†æ¶
- ğŸ’ª ä¸ºåç»­çš„é«˜çº§å‰ç«¯æŠ€æœ¯å­¦ä¹ å¥ å®šåŸºç¡€
- ğŸŒŸ å…·å¤‡äº†ç‹¬ç«‹å¼€å‘å‰ç«¯åº”ç”¨çš„èƒ½åŠ›

### ä¸ä¸‹èŠ‚è¯¾çš„è¡”æ¥

#### ğŸ”— ä»ReactåŸºç¡€åˆ°Next.jsåº”ç”¨

ä½ ç°åœ¨å·²ç»æŒæ¡äº†Reactç»„ä»¶çš„åˆ›å»ºå’Œä½¿ç”¨ï¼Œä¸‹èŠ‚è¯¾ï¼ˆ3.2 Next.jsé¡¹ç›®åº”ç”¨ï¼‰æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å°†è¿™äº›ç»„ä»¶é›†æˆåˆ°Next.jsæ¡†æ¶ä¸­ï¼Œæ„å»ºå®Œæ•´çš„åº”ç”¨ï¼

**ä»Šå¤©çš„ReactåŸºç¡€**å°†åœ¨ä¸‹èŠ‚è¯¾å‘æŒ¥é‡è¦ä½œç”¨ï¼š
- **ç»„ä»¶å¤ç”¨**ï¼šä»Šå¤©åˆ›å»ºçš„ç»„ä»¶å°†åœ¨Next.jsé¡µé¢ä¸­è¢«é‡å¤ä½¿ç”¨
- **çŠ¶æ€ç®¡ç†**ï¼šä»Šå¤©å­¦åˆ°çš„çŠ¶æ€ç®¡ç†å°†æ‰©å±•åˆ°åº”ç”¨çº§åˆ«
- **ç”¨æˆ·äº¤äº’**ï¼šä»Šå¤©çš„äº¤äº’é€»è¾‘å°†ä¸Next.jsçš„è·¯ç”±å’ŒAPIé›†æˆ

**ä¸‹èŠ‚è¯¾çš„ç²¾å½©å†…å®¹**ï¼š
- å­¦ä¹ Next.js App Routerçš„å¼ºå¤§è·¯ç”±ç³»ç»Ÿ
- ç†è§£æœåŠ¡ç«¯ç»„ä»¶å’Œå®¢æˆ·ç«¯ç»„ä»¶çš„é€‰æ‹©ç­–ç•¥
- å®ç°API Routesä¸å‰ç«¯ç»„ä»¶çš„æ•°æ®äº¤äº’
- ä¼˜åŒ–åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

#### ğŸ“š å­¦ä¹ æ·±åº¦çš„é€’è¿›

```
3.1èŠ‚ï¼šReactç»„ä»¶ï¼ˆä»Šå¤©ï¼‰â†’ ç»„ä»¶èƒ½åŠ› âœ…
3.2èŠ‚ï¼šNext.jsæ¡†æ¶ï¼ˆæ˜å¤©ï¼‰â†’ åº”ç”¨æ¶æ„ ğŸ¯
3.3èŠ‚ï¼šTypeScriptåº”ç”¨ï¼ˆæ¥ä¸‹æ¥ï¼‰â†’ ç±»å‹å®‰å…¨ ğŸ›¡ï¸
3.4èŠ‚ï¼šTailwindæ ·å¼ï¼ˆæœ€åï¼‰â†’ ç•Œé¢ç¾åŒ– ğŸ¨
```

ä¸‹èŠ‚è¯¾å®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Next.jsåº”ç”¨æ¶æ„ï¼

### è¯¾åæ€è€ƒå»ºè®®

#### ğŸ¤” Reactç†è§£æ·±åŒ–é¢˜

**ç»„ä»¶è®¾è®¡æ€ç»´é¢˜**ï¼š
1. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªåŠŸèƒ½åº”è¯¥ä½œä¸ºç‹¬ç«‹ç»„ä»¶è¿˜æ˜¯ç»„ä»¶å†…çš„ä¸€éƒ¨åˆ†ï¼Ÿ
2. ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨çŠ¶æ€æå‡ï¼Œä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨Contextï¼Ÿ
3. å¦‚ä½•åœ¨ç»„ä»¶å¤ç”¨æ€§å’ŒåŠŸèƒ½ä¸“ä¸€æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ï¼Ÿ

**æ€§èƒ½ä¼˜åŒ–æ€è€ƒé¢˜**ï¼š
1. å“ªäº›æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨React.memoã€useMemoã€useCallbackï¼Ÿ
2. å¦‚ä½•é¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Ÿ
3. åœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥è€ƒè™‘ç»„ä»¶çš„ä»£ç åˆ†å‰²ï¼Ÿ

**æœ€ä½³å®è·µé¢˜**ï¼š
1. å¦‚ä½•ä¸ºå›¢é˜Ÿå»ºç«‹ç»„ä»¶å¼€å‘çš„æ ‡å‡†å’Œè§„èŒƒï¼Ÿ
2. æ€æ ·è®¾è®¡ç»„ä»¶çš„Propsæ¥å£æ‰èƒ½ä¿è¯æœªæ¥çš„æ‰©å±•æ€§ï¼Ÿ
3. å¦‚ä½•å¹³è¡¡ç»„ä»¶çš„åŠŸèƒ½å®Œæ•´æ€§å’Œä½¿ç”¨ç®€ä¾¿æ€§ï¼Ÿ

#### ğŸ“– å®è·µå·©å›ºå»ºè®®

**ç»„ä»¶åº“æ‰©å±•é¡¹ç›®**ï¼š
1. **å¢å¼ºç°æœ‰ç»„ä»¶**ï¼šä¸ºButtonã€Inputç­‰ç»„ä»¶æ·»åŠ æ›´å¤šå˜ä½“å’ŒåŠŸèƒ½
2. **åˆ›å»ºæ–°ç»„ä»¶**ï¼šå®ç°Dropdownã€DatePickerã€FileUploadç­‰å¤æ‚ç»„ä»¶
3. **å»ºç«‹è®¾è®¡ç³»ç»Ÿ**ï¼šç»Ÿä¸€ç»„ä»¶çš„è®¾è®¡è¯­è¨€å’Œä½¿ç”¨è§„èŒƒ

**äº¤äº’ä½“éªŒä¼˜åŒ–**ï¼š
1. **é”®ç›˜å¯¼èˆª**ï¼šä¸ºæ‰€æœ‰ç»„ä»¶æ·»åŠ å®Œæ•´çš„é”®ç›˜æ”¯æŒ
2. **åŠ è½½çŠ¶æ€**ï¼šå®ç°ä¼˜é›…çš„åŠ è½½åŠ¨ç”»å’Œéª¨æ¶å±
3. **é”™è¯¯å¤„ç†**ï¼šå»ºç«‹ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶

### æ¿€åŠ±ç»§ç»­å­¦ä¹ çš„è¯è¯­

#### ğŸŠ ä¸ºä½ çš„ç¼–ç¨‹æŠ€èƒ½é£è·ƒç‚¹èµ

å®Œæˆè¿™ä¸€èŠ‚çš„å­¦ä¹ ï¼Œè¯æ˜ä½ å·²ç»å…·å¤‡äº†ï¼š
- **ç°ä»£å‰ç«¯å¼€å‘è€…çš„æ ¸å¿ƒæŠ€èƒ½**ï¼šReactæ˜¯å‰ç«¯å¼€å‘çš„ä¸»æµæŠ€æœ¯
- **ç»„ä»¶åŒ–å¼€å‘çš„ä¸“ä¸šæ€ç»´**ï¼šè¿™ç§æ€ç»´é€‚ç”¨äºæ‰€æœ‰ç°ä»£å‰ç«¯æ¡†æ¶
- **ç”¨æˆ·ç•Œé¢å¼€å‘çš„å®è·µèƒ½åŠ›**ï¼šèƒ½å¤Ÿåˆ›å»ºçœŸæ­£å¯ç”¨çš„ç”¨æˆ·ç•Œé¢
- **æŒç»­å­¦ä¹ å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›**ï¼šé¢å¯¹å¤æ‚æŠ€æœ¯èƒ½å¤Ÿé€æ­¥æŒæ¡

è¿™äº›æŠ€èƒ½å°†æ˜¯ä½ å‰ç«¯å¼€å‘èŒä¸šç”Ÿæ¶¯çš„é‡è¦åŸºçŸ³ï¼

#### ğŸš€ å³å°†è¿æ¥çš„åº”ç”¨æ•´åˆ

ä¸‹èŠ‚è¯¾å¼€å§‹ï¼Œä½ å°†ä½“éªŒåˆ°æ›´å¤§çš„æˆå°±æ„Ÿï¼š
- ğŸ—ï¸ çœ‹åˆ°ä½ çš„ç»„ä»¶åœ¨å®Œæ•´åº”ç”¨ä¸­å‘æŒ¥ä½œç”¨
- ğŸ”„ ä½“éªŒå‰åç«¯æ•°æ®äº¤äº’çš„æŠ€æœ¯é­…åŠ›
- âš¡ æ„Ÿå—Next.jså¸¦æ¥çš„å¼€å‘æ•ˆç‡æå‡
- ğŸ¯ å®ç°ä»ç»„ä»¶åˆ°åº”ç”¨çš„åä¸½è½¬å˜

#### ğŸ’ª æŒç»­æˆé•¿çš„å¼ºå¤§åŠ¨åŠ›

**æƒ³è±¡ä¸€ä¸‹å³å°†å®ç°çš„ç›®æ ‡**ï¼š
- ğŸ“± å½“ä½ çš„èŠå¤©åº”ç”¨åœ¨æµè§ˆå™¨ä¸­å®Œç¾è¿è¡Œæ—¶çš„è‡ªè±ª
- ğŸ¤– å½“ç”¨æˆ·é€šè¿‡ä½ çš„ç•Œé¢ä¸AIè¿›è¡Œå¯¹è¯æ—¶çš„ç¥å¥‡æ„Ÿå—
- ğŸ¨ å½“ä½ çš„åº”ç”¨ç•Œé¢è·å¾—ä»–äººç§°èµæ—¶çš„æ»¡è¶³
- ğŸš€ å½“ä½ æ„è¯†åˆ°å·²ç»å…·å¤‡å®Œæ•´å‰ç«¯å¼€å‘èƒ½åŠ›æ—¶çš„å…´å¥‹

**è®°ä½ä½ ç°åœ¨çš„å¼ºå¤§åŸºç¡€**ï¼š
- âœ… ä½ å·²ç»æŒæ¡äº†Reactçš„æ ¸å¿ƒå¼€å‘æŠ€èƒ½
- âœ… ä½ å·²ç»èƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½å®Œæ•´çš„ç”¨æˆ·ç•Œé¢
- âœ… ä½ å·²ç»å…·å¤‡äº†ç°ä»£å‰ç«¯å¼€å‘çš„æ€ç»´
- âœ… ä½ å·²ç»ä¸ºæ„å»ºå®Œæ•´åº”ç”¨åšå¥½äº†å‡†å¤‡

---

## ğŸ¯ ç»“è¯­

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·å®Œæˆäº†ReactåŸºç¡€åº”ç”¨çš„å­¦ä¹ ï¼ä»æœ€ç®€å•çš„Buttonç»„ä»¶åˆ°å¤æ‚çš„ChatContainerï¼Œä»åŸºç¡€çš„useStateåˆ°é«˜çº§çš„useContextï¼Œä½ å·²ç»å»ºç«‹äº†å®Œæ•´çš„Reactå¼€å‘æŠ€èƒ½ä½“ç³»ã€‚

**è®°ä½ä»Šå¤©æœ€é‡è¦çš„ä¸‰ä¸ªæˆå°±**ï¼š
1. âš›ï¸ **æŒæ¡äº†Reactç»„ä»¶å¼€å‘**ï¼šå‡½æ•°ç»„ä»¶ + Hooks + TypeScriptçš„ç°ä»£æ¨¡å¼
2. ğŸ¯ **å»ºç«‹äº†ç»„ä»¶åŒ–æ€ç»´**ï¼šå°†å¤æ‚ç•Œé¢åˆ†è§£ä¸ºç®€å•ã€å¯é‡ç”¨ç»„ä»¶çš„èƒ½åŠ›
3. ğŸ”„ **å®ç°äº†ç”¨æˆ·äº¤äº’å¤„ç†**ï¼šä»ç®€å•ç‚¹å‡»åˆ°å¤æ‚è¡¨å•çš„å®Œæ•´äº¤äº’é€»è¾‘

**ä¸ºä¸‹èŠ‚è¯¾çš„Next.jsé›†æˆåšå¥½å‡†å¤‡**ï¼š
- æœŸå¾…çœ‹åˆ°ç»„ä»¶åœ¨å®Œæ•´åº”ç”¨æ¶æ„ä¸­çš„è¡¨ç°
- å‡†å¤‡å¥½å­¦ä¹ æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç»„ä»¶çš„ååŒå·¥ä½œ
- ç›¸ä¿¡è‡ªå·±å·²ç»å…·å¤‡äº†ç†è§£æ¡†æ¶çº§ç‰¹æ€§çš„èƒ½åŠ›

Reactç»„ä»¶è®©ä½ å…·å¤‡äº†åˆ›å»ºç”¨æˆ·ç•Œé¢çš„èƒ½åŠ›ï¼ŒNext.jsæ¡†æ¶å°†è®©ä½ æ„å»ºå®Œæ•´çš„åº”ç”¨ç³»ç»Ÿï¼

**è®©æˆ‘ä»¬å¸¦ç€æ‰å®çš„ReactåŸºç¡€ï¼Œå¼€å§‹ä¸‹èŠ‚è¯¾çš„Next.jsåº”ç”¨ä¹‹æ—…ï¼** ğŸš€

---

> **å­¦ä¹ æç¤º**ï¼šReactçš„å­¦ä¹ æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œå»ºè®®å¤šå†™ä»£ç ã€å¤šå®éªŒã€å¤šæ€è€ƒã€‚æ¯ä¸ªç»„ä»¶çš„åˆ›å»ºéƒ½æ˜¯æŠ€èƒ½çš„ç§¯ç´¯ï¼Œæ¯ä¸ªåŠŸèƒ½çš„å®ç°éƒ½æ˜¯ç»éªŒçš„æ²‰æ·€ã€‚è®°ä½ï¼Œä¼˜ç§€çš„å‰ç«¯å¼€å‘è€…éƒ½æ˜¯ä»ä¸€ä¸ªä¸ªå°ç»„ä»¶å¼€å§‹æˆé•¿çš„ï¼
